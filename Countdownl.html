<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Index</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      height: 100vh;
      width: 100vw;
      color: white;
      background: #003152;
      display: flex;
      flex-direction: column;
    }

    .container {
      flex: 1;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: flex-start;
      padding: 20px;
      gap: 20px;
      max-width: 900px;   /* 限制最大宽度 */
      margin: 0 auto;      /* 居中显示 */
    }

    /* 三栏布局 */
    .left-column {
      flex: 0 0 22%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .center-column {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 30px;
    }

    .right-column {
      flex: 0 0 18%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    /* 左栏 Logo + 时间 */
		#image-container {
		  display: flex;
		  flex-direction: row;   /* 横向排列 */
		  gap: 20px;             /* Logo 之间的间距 */
		  justify-content: center;
		  align-items: center;
		}


    #image-container img {
      width: 80px;
      height: auto;
    }

    #weekday-display {
      font-size: 18px;
      font-weight: bold;
      color: #FFD700;
      text-align: center;
    }

    #current-time {
      font-size: 18px;
      color: #FFD700;
      font-weight: bold;
      text-align: center;
    }

    /* 中间栏内容 */
    #message {
      font-size: 30px;
      font-weight: bold;
    }

    .status-row {
      display: flex;
      justify-content: flex-start;
      gap: 20px;
      flex-wrap: wrap;
    }

    .status-left, .status-right {
      display: inline-block;
    }

    .countdown-label {
      font-size: 20px;
      margin-top: 10px;
    }
    
    .quote-label {
      font-size: 18px;
    }

    #countdown {
      color: #FFD700 !important;
      font-weight: bold;
    }

    .video-container {
      width: 640px;
      height: 360px;
      position: relative;
      overflow: hidden;
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* 右栏时钟 */
    .clock-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      margin-top: 20px;
    }

    .clock-container {
      width: 120px;
      min-height: 160px;
      text-align: center;
    }

    .city-label {
      margin-bottom: 10px;
      font-weight: bold;
      font-size: 1em;
    }

    .am-pm-indicator {
      margin-left: 8px;
      font-size: 1.1em;
      color: #FFD700;
    }

    .am-pm-indicator.night {
      color: #00F5DC;
    }

    :root {
      --clock-size: 100px;
      --center: calc(var(--clock-size) / 2);
      --radius: calc(var(--center) - 20px);
    }

    .clock {
      position: relative;
      width: var(--clock-size);
      height: var(--clock-size);
      border: 8px solid #333;
      border-radius: 50%;
      background: white;
      overflow: hidden;
    }

    #abu {
      background-image: url('https://www.shutterstock.com/shutterstock/photos/2034988331/display_1500/stock-vector-vector-artistic-abu-dhabi-united-arab-emirates-postcard-downtown-skyscrapers-panorama-hand-2034988331.jpg');
      background-size: cover;
    }

    #paris {
      background-image: url('https://i.pinimg.com/736x/76/8c/ea/768ceafb25f3604a7771c697e8df04a2--france-eiffel-tower-eiffel-towers.jpg');
      background-size: cover;
    }

    #beijing {
      background-image: url('https://thumbs.dreamstime.com/z/beijing-abstract-color-drawing-sketch-vector-illustration-isolated-white-background-146930137.jpg');
      background-size: cover;
    }

    #basra {
      background-image: url('https://st3.depositphotos.com/4930557/13509/v/450/depositphotos_135094604-stock-illustration-baghdad-cityscape-mosque-iraq-sketch.jpg');
      background-size: cover;
    }

    .hand {
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
      background: #333;
    }

    .hour { width: 6px; height: calc(var(--clock-size) * 0.33); z-index: 3; }
    .minute { width: 4px; height: calc(var(--clock-size) * 0.44); z-index: 2; }
    .second { width: 2px; height: calc(var(--clock-size) * 0.55); background: red; z-index: 1; }

    .center-dot {
      position: absolute;
      width: calc(var(--clock-size) * 0.07);
      height: calc(var(--clock-size) * 0.07);
      background: #333;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 4;
    }

    .tick {
      position: absolute;
      width: 4px;
      height: calc(var(--clock-size) * 0.07);
      background: #333;
      top: calc(var(--clock-size) * 0.02);
      left: 50%;
      transform-origin: center calc(var(--clock-size) / 2 - 4px);
    }

    .number {
      position: absolute;
      font-size: calc(var(--clock-size) * 0.08);
      font-weight: bold;
      color: #333;
      transform: translate(-50%, -50%);
    }

    /* 大屏幕适配 */
    @media (min-width: 1280px) {
      #message {
        font-size: 2.2vw;
      }
      .countdown-label {
        font-size: 1.6vw;
      }
      #weekday-display, #current-time {
        font-size: 1.4vw;
      }
      .video-container {
        width: 50vw;
        height: calc(50vw * 9 / 16);
      }
      :root {
        --clock-size: 100px;
      }
    }

    /* 中等屏幕 */
    @media (max-width: 1279px) and (min-width: 768px) {
      :root {
        --clock-size: 100px;
      }
      #message {
        font-size: 2vw;
      }
      .countdown-label {
        font-size: 1.2vw;
      }
      .video-container {
        width: 40vw;
        height: calc(40vw * 9 / 16);
      }
    }

    /* 小屏幕 */
    @media (max-width: 767px) {
      .container {
        flex-direction: column;
        align-items: center;
      }
      .left-column, .right-column {
        flex: 1;
        flex-direction: row;
        justify-content: space-around;
        width: 100%;
      }
      .center-column {
        width: 100%;
        align-items: center;
      }
      :root {
        --clock-size: 100px;
      }
    }
    
    .slideshow-container {
  		position: relative;
  		width: 100%;
  		height: 100%;
  		overflow: hidden;
		}

		.slide {
		  position: absolute;
		  width: 100%;
		  height: 100%;
		  object-fit: contain;
		  opacity: 0;
		  transition: opacity 1s ease-in-out;
		}

		.slide.active {
		  opacity: 1;
		}
    
  </style>
</head>
<body>
  <div class="container">
    <!-- 左栏 -->
    <div class="left-column">
      <div id="image-container">
        <img src="TTE.png" alt="TTE Logo" />
        <img src="CNPC.png" alt="CNPC Logo" />
      </div>
      <div id="weekday-display"></div>
      <div id="current-time"></div>
      <div class="quote-label">
        Quote of the Week: "Every step forward, no matter how small, is a victory."
      </div>
      <div class="left-column">
      <div class="clock-column">
        <div class="clock-container">
          <div class="city-label">Basrah <span class="am-pm-indicator"></span></div>
          <div class="clock" id="basra"></div>
        </div>
      </div>
    </div>
    </div>

    <!-- 中栏 -->
    <div class="center-column">
      <div id="message">GPP Ar-Ratawi Gas Midstream Project</div>
      <div class="status-row">
        <div class="status-left">
          <div class="countdown-label" style="color: #FFD700">RFSU Remaining Days:</div>
        </div>
        <div class="status-right">
          <div class="countdown-label"><span id="countdown"></span></div>
        </div>
      </div>

      <div class="video-container">
        <iframe src="https://www.youtube.com/embed/SBE4VzR8Ets?autoplay=1&mute=1&loop=1&playlist=SBE4VzR8Ets"
          frameborder="0" allowfullscreen></iframe>
          <!--div class="slideshow-container">
  				<img class="slide" src="1.jpg" />
  				<img class="slide" src="2.jpg" />
  				<img class="slide" src="3.jpg" />
  				<img class="slide" src="4.jpg" />
  				<img class="slide" src="5.jpg" />
  				<img class="slide" src="6.jpg" />
  				<img class="slide" src="7.jpg" />
				</div-->            
      </div>
      <div class="status-row">
        <div class="status-left">
          <div class="countdown-label">Overall Milestone Achieved: </div>
          <div class="countdown-label">Current Milestone:</div>
          <div class="countdown-label">Golden Safety Rule of the Month:<br><br></div>
        </div>
        <div class="status-right">
          <div class="countdown-label">3/30</div>
          <div class="countdown-label">30% 3D Model Review</div>
          <div class="countdown-label">Hot Work (Rule No.11)<br><br></div>
        </div>
      </div>

<div style="position:fixed;top:0;left:0;background:#000;color:#fff;z-index:9999;">
  Width: <script>document.write(window.innerWidth);</script>px
</div>
    </div>

    <!-- 右栏 -->
    <div class="right-column">
      <div class="clock-column">
        <div class="clock-container">
          <div class="city-label">Abu Dhabi <span class="am-pm-indicator"></span></div>
          <div class="clock" id="abu"></div>
        </div>
        <div class="clock-container">
          <div class="city-label">Paris <span class="am-pm-indicator"></span></div>
          <div class="clock" id="paris"></div>
        </div>
        <div class="clock-container">
          <div class="city-label">Beijing <span class="am-pm-indicator"></span></div>
          <div class="clock" id="beijing"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
  	console.log("Effective width:", window.innerWidth * window.devicePixelRatio);
    const zones = {
      abu: 4,
      paris: 2,
      beijing: 8,
      basra: 3
    };

    const targetTime = new Date("2028-05-12T00:00:00");

    function createTicks(clockId) {
      const clock = document.getElementById(clockId);
      const size = clock.offsetWidth;
      const center = size / 2;
      const radius = center - size * 0.11;

      for (let i = 0; i < 12; i++) {
        const tick = document.createElement("div");
        tick.className = "tick";
        tick.style.transform = `rotate(${i * 30}deg) translateX(-50%)`;
        clock.appendChild(tick);

        const number = document.createElement("div");
        number.className = "number";
        const angle = (i * 30 - 90) * Math.PI / 180;
        const x = center + radius * Math.cos(angle);
        const y = center + radius * Math.sin(angle);
        number.style.left = `${x}px`;
        number.style.top = `${y}px`;
        number.textContent = i === 0 ? 12 : i;
        clock.appendChild(number);
      }

      ['hour', 'minute', 'second'].forEach(cls => {
        const hand = document.createElement('div');
        hand.className = `hand ${cls}`;
        clock.appendChild(hand);
      });

      const dot = document.createElement('div');
      dot.className = 'center-dot';
      clock.appendChild(dot);
    }

    Object.keys(zones).forEach(createTicks);

    function updateClocks() {
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset() * 60000;

      for (const [id, offset] of Object.entries(zones)) {
        const local = new Date(utc + offset * 3600000);
        const hours = local.getHours() % 12;
        const minutes = local.getMinutes();
        const seconds = local.getSeconds();

        const clock = document.getElementById(id);
        clock.querySelector('.hour').style.transform = `rotate(${(hours + minutes / 60) * 30}deg) translateX(-50%)`;
        clock.querySelector('.minute').style.transform = `rotate(${(minutes + seconds / 60) * 6}deg) translateX(-50%)`;
        clock.querySelector('.second').style.transform = `rotate(${seconds * 6}deg) translateX(-50%)`;

        const container = clock.parentElement;
        const indicator = container.querySelector('.am-pm-indicator');
        const isAM = local.getHours() < 12;
        indicator.textContent = isAM ? 'am' : 'pm';
        indicator.classList.toggle('night', !isAM);
      }
    }

    function updateCurrentTime() {
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset() * 60000;
      const abuDhabiTime = new Date(utc + 4 * 3600000);

      const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                      'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

      const day = days[abuDhabiTime.getDay()];
      const date = abuDhabiTime.getDate().toString().padStart(2, '0');
      const month = months[abuDhabiTime.getMonth()];
      const year = abuDhabiTime.getFullYear();
      const hour = abuDhabiTime.getHours().toString().padStart(2, '0');
      const minute = abuDhabiTime.getMinutes().toString().padStart(2, '0');
      const second = abuDhabiTime.getSeconds().toString().padStart(2, '0');

      document.getElementById('weekday-display').innerText = `${day}, ${date} ${month} ${year}`;
      document.getElementById('current-time').innerText = `${hour}:${minute}:${second}`;
    }

    function updateCountdown() {
      const now = new Date();
      const diff = targetTime - now;

      if (diff <= 0) {
        document.getElementById('countdown').innerText = "Time's up!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById('countdown').innerText =
        `${days} Days ${hours} Hr ${minutes} Min ${seconds} Sec`;
    }

    function updateAll() {
      updateClocks();
      updateCurrentTime();
      updateCountdown();
    }

    updateAll();
    setInterval(updateAll, 1000);
    
    		    const slides = document.querySelectorAll('.slide');
		let currentSlide = 0;
		
		function showSlide(index) {
		  slides.forEach((slide, i) => {
		    slide.classList.toggle('active', i === index);
		  });
		}
		
		function nextSlide() {
		  currentSlide = (currentSlide + 1) % slides.length;
		  showSlide(currentSlide);
		}
		
		showSlide(currentSlide);
		setInterval(nextSlide, 3000); // 每3秒切换一次
  </script>
</body>
</html>
